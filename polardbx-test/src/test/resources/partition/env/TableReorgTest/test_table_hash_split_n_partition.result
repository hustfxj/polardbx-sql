## DISABLE_FAST_SQL_PARSER
CREATE TABLE `t1` (
  `a` varchar(8) DEFAULT NULL,
  `b` varchar(16) DEFAULT NULL,
  `c` varchar(32) DEFAULT NULL,
  `d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`,`b`) PARTITIONS 3;
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t1;
Table,Create Table
t1,CREATE TABLE `t1` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`,`b`)
PARTITIONS 3
(PARTITION p1 VALUES LESS THAN (-3074457345618258601,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
CREATE TABLE `t2` (
`a` varchar(8) DEFAULT NULL,
`b` varchar(16) DEFAULT NULL,
`c` varchar(32) DEFAULT NULL,
`d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`,`b`) PARTITIONS 3;
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t2;
Table,Create Table
t2,CREATE TABLE `t2` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`,`b`)
PARTITIONS 3
(PARTITION p1 VALUES LESS THAN (-3074457345618258601,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
CREATE TABLE `t3` (
`a` varchar(8) DEFAULT NULL,
`b` varchar(16) DEFAULT NULL,
`c` varchar(32) DEFAULT NULL,
`d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY hash(`a`,`b`) PARTITIONS 3;
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY HASH(`a`,`b`)
PARTITIONS 3
(PARTITION p1 VALUES LESS THAN (-3074457345618258601) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
CREATE TABLE `t4` (
`a` varchar(8) DEFAULT NULL,
`b` varchar(16) DEFAULT NULL,
`c` varchar(32) DEFAULT NULL,
`d` int(11) DEFAULT NULL
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY hash(`a`,`b`) PARTITIONS 3;
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY HASH(`a`,`b`)
PARTITIONS 3
(PARTITION p1 VALUES LESS THAN (-3074457345618258601) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
alter table t1 split partition p1 into pxx partitions 4;
alter table t1 rename partition pxx1 to pnn10;
alter table t2 split partition p1 into pxx partitions 4;
alter table t3 split partition p1 into pxx partitions 4;
alter table t3 rename partition pxx1 to pnn10;
alter table t4 split partition p1 into pxx partitions 4;
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t1;
Table,Create Table
t1,CREATE TABLE `t1` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`,`b`)
PARTITIONS 6
(PARTITION pnn10 VALUES LESS THAN (-7686143364045646507,9223372036854775807) ENGINE = InnoDB,
 PARTITION pxx2 VALUES LESS THAN (-6148914691236517206,9223372036854775807) ENGINE = InnoDB,
 PARTITION pxx3 VALUES LESS THAN (-4611686018427387905,9223372036854775807) ENGINE = InnoDB,
 PARTITION pxx4 VALUES LESS THAN (-3074457345618258601,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t2;
Table,Create Table
t2,CREATE TABLE `t2` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`a`,`b`)
PARTITIONS 6
(PARTITION pnn10 VALUES LESS THAN (-7686143364045646507,9223372036854775807) ENGINE = InnoDB,
 PARTITION pxx2 VALUES LESS THAN (-6148914691236517206,9223372036854775807) ENGINE = InnoDB,
 PARTITION pxx3 VALUES LESS THAN (-4611686018427387905,9223372036854775807) ENGINE = InnoDB,
 PARTITION pxx4 VALUES LESS THAN (-3074457345618258601,9223372036854775807) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603,9223372036854775807) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807,9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t3;
Table,Create Table
t3,CREATE TABLE `t3` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY HASH(`a`,`b`)
PARTITIONS 6
(PARTITION pnn10 VALUES LESS THAN (-7686143364045646507) ENGINE = InnoDB,
 PARTITION pxx2 VALUES LESS THAN (-6148914691236517206) ENGINE = InnoDB,
 PARTITION pxx3 VALUES LESS THAN (-4611686018427387905) ENGINE = InnoDB,
 PARTITION pxx4 VALUES LESS THAN (-3074457345618258601) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */
/*+TDDL:cmd_extra(SHOW_HASH_PARTITIONS_BY_RANGE=TRUE)*/show full create table t4;
Table,Create Table
t4,CREATE TABLE `t4` (
	`a` varchar(8) DEFAULT NULL,
	`b` varchar(16) DEFAULT NULL,
	`c` varchar(32) DEFAULT NULL,
	`d` int(11) DEFAULT NULL,
	`_drds_implicit_id_` bigint(20) NOT NULL AUTO_INCREMENT,
	PRIMARY KEY (`_drds_implicit_id_`),
	LOCAL KEY `auto_shard_key_a_b` USING BTREE (`a`, `b`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY HASH(`a`,`b`)
PARTITIONS 6
(PARTITION pnn10 VALUES LESS THAN (-7686143364045646507) ENGINE = InnoDB,
 PARTITION pxx2 VALUES LESS THAN (-6148914691236517206) ENGINE = InnoDB,
 PARTITION pxx3 VALUES LESS THAN (-4611686018427387905) ENGINE = InnoDB,
 PARTITION pxx4 VALUES LESS THAN (-3074457345618258601) ENGINE = InnoDB,
 PARTITION p2 VALUES LESS THAN (3074457345618258603) ENGINE = InnoDB,
 PARTITION p3 VALUES LESS THAN (9223372036854775807) ENGINE = InnoDB)
/* tablegroup = `tg` */